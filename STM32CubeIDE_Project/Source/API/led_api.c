/**********************************************************************************************************************
 * Includes
 *********************************************************************************************************************/
#include "cmsis_os.h"
#include "gpio_driver.h"
#include "led_api.h"
/**********************************************************************************************************************
 * Private definitions and macros
 *********************************************************************************************************************/

/**********************************************************************************************************************
 * Private typedef
 *********************************************************************************************************************/
typedef struct {
    eLedApiNameEnum_t pin;
    bool is_inverted;
} sLedProperties_t;
/**********************************************************************************************************************
 * Private constants
 *********************************************************************************************************************/
static const sLedProperties_t g_led_api_mapping[eLedApi_Last] = {
    [eLedApi_GpsFix] = {eGpioDriverPin_GPSFixLedPin, true},
    [eLedApi_Status] = {eGpioDriverPin_StatLedPin, false}
};
/**********************************************************************************************************************
 * Private variables
 *********************************************************************************************************************/

/**********************************************************************************************************************
 * Exported variables and references
 *********************************************************************************************************************/

/**********************************************************************************************************************
 * Prototypes of private functions
 *********************************************************************************************************************/
 
/**********************************************************************************************************************
 * Definitions of private functions
 *********************************************************************************************************************/

/**********************************************************************************************************************
 * Definitions of exported functions
 *********************************************************************************************************************/
 bool LED_API_Init(void) {
     return GPIO_Driver_Init();
 }

 bool LED_API_TurnOn(eLedApiNameEnum_t led) {
     if ((led < eLedApi_First) || (led >= eLedApi_Last)) {
         return false;
     }
     return GPIO_Driver_WritePin(g_led_api_mapping[led].pin,!(g_led_api_mapping[led].is_inverted));
 }

 bool LED_API_TurnOff(eLedApiNameEnum_t led) {
     if ((led < eLedApi_First) || (led >= eLedApi_Last)) {
         return false;
     }
     return GPIO_Driver_WritePin(g_led_api_mapping[led].pin,g_led_api_mapping[led].is_inverted);
 }

 bool LED_API_Toggle(eLedApiNameEnum_t led) {
     if ((led < eLedApi_First) || (led >= eLedApi_Last)) {
         return false;
     }
     return GPIO_Driver_TogglePin(g_led_api_mapping[led].pin);
 }
